---
import { colors } from "../utils";
import { Icon } from 'astro-icon'
import NftItem from "./Nft-item.astro";

const { image, eth, likes, views, date, user, index, id, name  } = Astro.props
---

<li 
     class="border-grad z-[10] relative w-[100%] md:w-[25%] bg-[rgb(27,25,34)] p-2 flex flex-col items-center gap-2"
>
     <a class="flex flex-col items-center w-[100%] h-[100%] gap-[0.7rem]" href={`/${id}`}>
          <figure 
          class="relative w-[95%] h-[40vh] rounded-[0.5rem]"
          style={`background: ${colors[index]}; view-transition-name: bg-${id}`}
          >
               <img 
               class={`w-[100%] h-[100%] object-contain ${index === colors.length - 1 ? 'object-cover' : ''}`} 
               src={image}
               style={`view-transition-name: image-nft-${id}`}/>
               <p 
               class="absolute z-[-1] top-0 left-2 text-white"
               style={`view-transition-name: nft-name-${id}`}>{name}</p>
          </figure>
          <article class="w-[100%] text-[var(--text-card)] flex flex-col items-center gap-3">
               <section class="w-full flex flex-row items-center justify-between pr-[1rem] pl-[1rem]">
                    <NftItem
                         value={date} 
                         transitionName={`nft-date-${id}`} 
                         icon="tabler:clock" 
                         size="w-[15px]" 
                         color="text-[var(--text-card)]"
                    />
                    <NftItem
                         value={views} 
                         transitionName={`nft-views-${id}`} 
                         icon="mdi:eye-outline" 
                         size="w-[15px]" 
                         color="text-[var(--text-card)]"
                    />
               </section>
               <span class="h-[1px] w-full bg-gradient-to-r from-transparent via-slate-400 to-transparent"></span>
               <section class="flex flex-row items-center justify-between pr-[1rem] pl-[1rem] w-[100%]">
                    <div class="flex flex-col items-start">
                         <p 
                         class="text-white text-sm"
                         style={`view-transition-name: nft-user-${id}`}>{user}</p>
                         <span 
                         class="flex items-center text-[var(--bg-contrast)] w-[100%]"
                         style={`view-transition-name: nft-value-${id}`}>
                             <Icon class="w-[15px] text-[var(--bg-contrast)]" name="mdi:ethereum" />
                             <p>{eth} ETH</p>
                         </span>
                    </div>
                    <button style={`view-transition-name: button-${id}`} class="bg-[var(--bg-contrast)] pr-4 pl-4 pt-2 pb-2 rounded-lg text-black"><p>Buy now</p></button>
               </section>
               <span 
               class="absolute top-[0.3rem] right-[0.8rem] flex items-center justify-between bg-white p-1 pl-[1rem] pr-[1rem] rounded-[1rem] text-black"
               style={`view-transition-name: nft-likes-${id}`}>
               <Icon class="w-[15px] text-red-600" name="mdi:heart" />{likes}
               </span>
          </article>
     </a>
     <span class="w-[102%] b-white z-[5]"/>
</li>